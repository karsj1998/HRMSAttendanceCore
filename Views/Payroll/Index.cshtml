@model IEnumerable<EmployeeAttendance.Models.Payroll>
@{
	ViewData["Title"] = "Payroll";
}
<div class="row">
	<div class="col-12 d-flex justify-content-between align-items-center mb-3">
		<h2 class="mb-0"><i class="fas fa-money-check-dollar me-2"></i>Payroll</h2>
		<div>
			<a asp-action="Generate" class="btn btn-outline-primary me-2"><i class="fas fa-calculator me-2"></i>Generate Monthly</a>
			<a asp-action="Create" class="btn btn-primary"><i class="fas fa-plus me-2"></i>Create Payroll</a>
		</div>
	</div>
	@if (TempData["Message"] != null)
	{
		<div class="col-12">
			<div class="alert alert-success">@TempData["Message"]</div>
		</div>
	}
	<div class="col-12">
		<table class="table table-striped table-hover">
			<thead>
				<tr>
					<th>Employee</th>
					<th>Period</th>
					<th class="text-end">Basic</th>
					<th class="text-end">Allowances</th>
					<th class="text-end">Deductions</th>
					<th class="text-end">Net Pay</th>
					<th>Status</th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				@foreach (var p in Model)
				{
					<tr>
						<td>@p.Employee?.FullName (@p.EmployeeId)</td>
						<td>@p.PeriodLabel</td>
						<td class="text-end">@p.BasicSalary.ToString("C")</td>
						<td class="text-end">@p.Allowances.ToString("C")</td>
						<td class="text-end">@p.Deductions.ToString("C")</td>
						<td class="text-end fw-bold">@p.NetPay.ToString("C")</td>
						<td>@p.Status</td>
						<td class="text-end">
							<a asp-action="Edit" asp-route-id="@p.Id" class="btn btn-sm btn-outline-secondary me-2"><i class="fas fa-edit"></i></a>
							<a asp-action="Delete" asp-route-id="@p.Id" class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></a>
						</td>
					</tr>
				}
			</tbody>
		</table>
	</div>
</div>