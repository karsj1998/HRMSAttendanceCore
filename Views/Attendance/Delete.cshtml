@model EmployeeAttendance.Models.Attendance
@{
	ViewData["Title"] = "Delete Attendance";
}

<div class="row justify-content-center">
	<div class="col-md-8">
		<div class="card border-danger">
			<div class="card-header bg-danger text-white">
				<h3 class="card-title mb-0">
					<i class="fas fa-trash me-2"></i>Delete Attendance
				</h3>
			</div>
			<div class="card-body">
				<p class="lead">Are you sure you want to delete this attendance record?</p>

				<dl class="row">
					<dt class="col-sm-3">Employee</dt>
					<dd class="col-sm-9">@Model.Employee?.FullName (@Model.EmployeeId)</dd>
					<dt class="col-sm-3">Date</dt>
					<dd class="col-sm-9">@Model.Date.ToString("MMM dd, yyyy (ddd)")</dd>
					<dt class="col-sm-3">Status</dt>
					<dd class="col-sm-9">@Model.Status</dd>
				</dl>

				<form asp-action="Delete" method="post" id="deleteForm">
					<input type="hidden" asp-for="Id" />
					<div class="d-flex justify-content-between">
						<a asp-action="Index" class="btn btn-secondary">
							<i class="fas fa-arrow-left me-2"></i>Cancel
						</a>
						<button type="button" class="btn btn-danger" onclick="confirmDelete()">
							<i class="fas fa-trash me-2"></i>Delete
						</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>

<script>
	function confirmDelete() {
		Swal.fire({
			title: 'Are you sure?',
			text: 'This action cannot be undone.',
			icon: 'warning',
			showCancelButton: true,
			confirmButtonColor: '#d33',
			cancelButtonColor: '#6c757d',
			confirmButtonText: 'Yes, delete it!'
		}).then((result) => {
			if (result.isConfirmed) {
				document.getElementById('deleteForm').submit();
			}
		});
	}
</script>